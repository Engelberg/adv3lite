<html>
<!-- DERIVED FILE - DO NOT EDIT -->

<head>
<title>Cockpit Controls &mdash; Taking Off</title>
<link rel="stylesheet" href="sysman.css" type="text/css">
</head>
<body>
<div class="topbar"><img src="topbar.jpg" border=0></div>
<div class="nav">
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="cockpit.htm">Cockpit Controls</a> &gt; 
Taking Off
<br><span class="navnp"><a class="nav" href="responding.htm"><i>Prev:</i> Responding to Actions</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="character.htm"><i>Next:</i> Character Building</a> &nbsp;&nbsp;&nbsp; </span>

</div>
<div class="main">
<h1>Taking Off</h1>

<p>Now that we have a bunch of controls in the cockpit and an aircraft on the tarmac, we just need to make the plane move and take off. Again there are no several ways we could go about this, but one convenient way is to use a Scene. To keep things simple we'll have the Scene triggered by pushing the engine start button. The start of the scene will consist of a short cut-sceene in which the protagonist taxis the plane to the start of the runway, leaving the plane ready for takeoff. We'll also reset to the controls to their starting positions, and close off the exit from the plane to the walkway:</p>

 <p><div class="code"><pre>
takeoff: Scene
    startsWhen = (ignitionButton.isOn == true)
    
    whenStarting()
    {
        "A few moments later a truck tows your plane away from the jetway, and
        following the instructions from the control tower, you taxi the plane to 
        the start of Runway 2 just as the sun finally disappears below the
        horizon. About a minute later, you are cleared for take-off. ";
        
        <span class="comment">/* reset all controls to their initial positions */</span>
        thrustLever.curSetting = '0';
        wheel.angle = 0;
        controlColumn.position = 0;
        
        <span class="comment">/* close off the exit from the plane */</span>
        
        planeFront.port = 'You can\'t leave the plane now it\'s left the jetway.
            ';
    }
</pre></div>

<p>We'll use the <span class="code">eachTurn()</span> method of the takeoff scene to control just about everything else. A scene's <span class="code">eachTurn()</span> method is executed every turn the scene is happening. We can therefore use it to check the state of the controls at the end of every turn after the button is pushed and make the plane respond accordingly. To do this we need to keep how fast the plane is travelling, and how far down the runway it has gone. If it goes too far it'll go past the end of the runway, presumably with dire consequences as it ploughs into whatever lies beyond. We'll define a custom <span class="code">distanceTraveled</span> property on the takeoff scene to keep track of how far the plane has travelled down the runway. We can used <span class="code">asi.airspeed</span> to keep track of its speed.</p>

<p></p>

</div>
<hr class="navb"><div class="navb">
<i>adv3Lite Library Tutorial</i><br>
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="cockpit.htm">Cockpit Controls</a> &gt; 
Taking Off
<br><span class="navnp"><a class="nav" href="responding.htm"><i>Prev:</i> Responding to Actions</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="character.htm"><i>Next:</i> Character Building</a> &nbsp;&nbsp;&nbsp; </span>

</div>
</body>
</html>